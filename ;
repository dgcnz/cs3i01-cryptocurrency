from typing import List
from dataclasses import dataclass
import requests


@dataclass
class Peer:
    hostname: str
    port: int


class P2P:
    peers: List[Peer] = []

    def __init__(self):
        # query iptables
        pass

    def value(self, peer: Peer):
        r = requests.get(DIFFICULTY_ENDPOINT)

    def get_k_best(self, k: int):
        """ Get k best peers """
        self.peers.sort(key=lambda peer: self.value(peer), reverse=True)
