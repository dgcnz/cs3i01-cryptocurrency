extends base.pug

block content
    section.section
        .container
            .level
                .level-left
                    h2.title.is-3 Blockchain
            hr
            .columns.is-multiline
                each block in blocks                    
                        .column.is-one-quarter
                            .box
                                .content.is-small
                                    p.title.is-4
                                        | Block 
                                        small ##{block.index}
                                    p.subtitle.is-6
                                        | Hash: 
                                        code.tooltip
                                            | #{formatters.hash(block.bhash)}
                                            span.tooltiptext #{block.bhash}                                            
                                        if block.index > 0
                                            br                                                
                                            | Previous: 
                                            code.tooltip
                                                | #{formatters.hash(block.prev_bhash)}
                                                span.tooltiptext #{block.prev_bhash}                                                
                                    hr
                                    if block.index > 0
                                        each transaction in block.data
                                            p.subtitle.is-6
                                            | transaction.id
                                            if transaction.txins > 0 || transaction.txouts > 0
                                                div.notification
                                                    p
                                                        each input in transaction.txins
                                                            p
                                                                span.icon.has-text-white
                                                                    i.fas.fa-arrow-right(data-fa-transform="rotate-45")
                                                                | #{formatters.amount(input.amount)}
                                                                |  from 
                                                                code.tooltip
                                                                    | #{formatters.hash(input.address)}
                                                                    span.tooltiptext #{input.address}
                                                    p                                                            
                                                        each output in transaction.txouts
                                                            p
                                                                span.icon.has-text-white
                                                                    i.fas.fa-arrow-right(data-fa-transform="rotate-320")
                                                                | #{formatters.amount(output.amount)}
                                                                |  to 
                                                                code.tooltip
                                                                    | #{formatters.hash(output.address)}
                                                                    span.tooltiptext #{output.address}
                                        p.has-text-grey-light.has-text-right.is-small
                                            | #{formatters.time(block.timestamp)}
                                    else
                                        .subtitle.is-3.has-text-centered Genesis
